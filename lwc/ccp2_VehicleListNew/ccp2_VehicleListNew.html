<template>
    <div class="main">
        <div class="half top">
            <img src={backgroundImagePC} class="main_image" alt="background_Image">
         </div>
        <div class="half bottom">
            <div class="center-content">
                <template if:true={showSpinner}>
                    <lightning-spinner style="border-radius:8px;" alternative-text="Loading" size="small"></lightning-spinner>
                </template>
                <template if:true={showVehicleList}>
                    <div class="mainveh">
                        <div class="Header">
                            <div class="VehCount"><p style="color: #0A0A0A; font-weight: bold;">車両一覧 ({VehicleCount}台)</p></div>
                            <div class="right">
                                <div class="search">
                                    <lightning-icon icon-name='utility:search' alternative-text='search' size='xx-small'  class="srch-icn" style="color: #0A0A0A;" title='filterList'></lightning-icon>
                                    <input type="text" class="search-box" placeholder="登録番号やドアナンバーを入力">
                                </div>
                                <div class="filter">
                                    <img src={filtericon} alt="filter vehicle" class="imgs1new">
                                    <p class="ftextNew">詳細検索</p>
                                </div>
                            </div>
                        </div>
                        <div class="Vehicle_list">
                            <div class="Vehicle_list_container">
                                <div class="container-list">
                                    <template if:true={vehicleData}>
                                        <template for:each={vehicleData} for:item="vehicle">
                                            <div key={vehicle.Id} class="card" data-id={vehicle.Id}>
                                                <div class="notifications"></div>
                                                <div class="headerno">
                                                    <div class="VehNo">
                                                        <lightning-icon icon-name={starIcon} class="back-icon" alternative-text="Star"
                                                        size="x-small" onclick={toggleStar}></lightning-icon>
                                                        <h2 class="vehnotext">{vehicle.Name}</h2>
                                                    </div>
                                                    <div class="branches">
                                                        <p class="totext">{vehicle.branchNames}</p>
                                                    </div>
                                                </div>
                                                <div class="details" onclick={handlecardClick} data-id={vehicle.Id}>
                                                    <div class="image data" style="height: 50px;">
                                                        <img src="https://tfltruck.com/wp-content/uploads/2013/12/38504_1_1.jpg" alt="vehicle" class="data-image">
                                                        <!-- {vehicle.TruckImg__c} -->
                                                    </div>
                                                    <div class="regno data">
                                                        <p class="head">Registration No</p>
                                                        <p class="Datahead">{vehicle.Registration_Number__c}</p>
                                                    </div>
                                                    <div class="maker data">
                                                        <p class="head">Car Name</p>
                                                        <p class="Datahead">{vehicle.Vehicle_Name__c}</p>
                                                    </div>
                                                    <div class="vehicle data">
                                                        <p class="head">Type of Vehicle</p>
                                                        <p class="Datahead">{vehicle.Vehicle_Type__c}</p>
                                                    </div>
                                                    <div class="regperson data">
                                                        <p class="head">Mileage</p>
                                                        <p class="Datahead">{vehicle.Mileage__c} km</p>
                                                    </div>
                                                    <div class="year data">
                                                        <p class="head">Expiration Date</p>
                                                        <p class="Datahead">{vehicle.Vehicle_Expiration_Date__c}</p>
                                                    </div>
                                                    <div class="nextdate data">
                                                        <p class="head">Next Date</p>
                                                        <p class="Datahead">{vehicle.First_Registration_Date__c}</p>
                                                    </div>
                                                    <div class="addition data"></div>
                                                </div>
                                            </div>
                                        </template>
                                    </template>
                                    <template if:true={vehicleData.error}>
                                        <!-- <p>{vehicleData.error}</p> -->
                                         <p>error</p>
                                    </template>
                                </div>
                            </div>
                        </div>
                        <div class="buttons">
                            <div class="btngrp">
                                <div class="write">
                                    <img src={DelVehIcon} alt="delete vehicle" class="imgs1">
                                     <p class="ftext" style="font-weight: 0px;" >Edit</p>
                                </div>
                                <div class="print">
                                    <img src={DownloadIcon} alt="download vehicle list" class="imgs2">
                                    <p class="ftext" style="font-weight: 0px;">Download</p>
                                </div>
                                <div class="download">
                                    <div class="btn" onclick={showVehicleRegistration}>
                                        <img src={addvehicleIcon} alt="download vehicle list" class="imgsnew">
                                        <p style="color: #0A0A0A;">車両登録</p>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </template>
                <template if:true={showVehicleDetails}>
                    <c-ccp2-_-vehicle-details vehicle-id={vehicleId} onback={handleBack}></c-ccp2-_-vehicle-details>
                </template >
                <template if:true={showVehicleModal}>
                    <c-ccp2-vehicle-modal onclosemodal={handleCloseModal}  onmovemodal={handlemoveModal}></c-ccp2-vehicle-modal>
                </template>           
            </div> 
        </div>
    </div>
     
</template>